<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <script src="https://cdn.tailwindcss.com"></script>
    <title>High Five | Join</title>
    <style>
        body { background-color: #0a0a0c; }
        .squish:active { transform: scale(0.94); }
        .radar-pulse { animation: radar 2s infinite; }
        @keyframes radar { 
            0% { box-shadow: 0 0 0 0 rgba(99, 102, 241, 0.4); } 
            100% { box-shadow: 0 0 0 40px rgba(99, 102, 241, 0); } 
        }
        /* Custom scrollbar hide for clean mobile look */
        ::-webkit-scrollbar { display: none; }
    </style>
</head>
<body class="min-h-screen flex items-center justify-center p-6 text-white font-sans overflow-hidden">
    
    <div class="w-full max-w-sm flex flex-col items-center text-center">
        <div class="w-20 h-20 bg-indigo-600 rounded-full mb-8 flex items-center justify-center text-4xl radar-pulse">ğŸ–ï¸</div>
        
        <h1 class="text-4xl font-black mb-2 tracking-tighter uppercase italic">High Five</h1>
        <p class="text-slate-500 mb-8 font-medium">Ready for your 5-minute vibe?</p>

        <form action="/login" method="POST" class="w-full space-y-4">
            <input name="username" placeholder="Nickname" required 
                   class="w-full p-5 bg-white/5 rounded-3xl border border-white/10 outline-none focus:border-indigo-500 font-bold text-center text-white transition-all">
            
            <div class="flex gap-2 w-full">
                <select name="platform" class="bg-slate-800 p-5 rounded-3xl border border-white/10 font-bold text-sm outline-none focus:border-indigo-500">
                    <option value="Instagram">IG</option>
                    <option value="Snapchat">Snap</option>
                </select>
                <input name="social" placeholder="Handle" required 
                       class="flex-1 p-5 bg-white/5 rounded-3xl border border-white/10 outline-none focus:border-indigo-500 font-bold text-center text-white transition-all">
            </div>

            <select name="vibe" class="w-full p-5 bg-white/5 rounded-3xl border border-white/10 font-bold text-center appearance-none outline-none focus:border-indigo-500">
                <option value="Chill">Vibe: Chill ğŸŒ¿</option>
                <option value="Deep">Vibe: Deep Talk ğŸŒŒ</option>
                <option value="Funny">Vibe: Funny ğŸ¤¡</option>
            </select>

            <button type="submit" class="squish w-full bg-indigo-600 py-5 rounded-3xl font-black text-xl shadow-xl transition-all uppercase tracking-widest mt-4 active:bg-indigo-500">
                Enter The Lobby
            </button>
        </form>
        
        <div class="mt-10 text-[10px] text-slate-600 font-bold uppercase tracking-[0.2em]">
            <span id="online-count" class="text-indigo-400">0</span> Humans Online Now
        </div>
    </div>

    <script src="https://cdn.socket.io/4.0.0/socket.io.min.js"></script>
    <script>
        const socket = io();
        
        // Listen for the broadcasted stats from app.py
        socket.on('update_stats', (data) => {
            const countEl = document.getElementById('online-count');
            if (countEl) {
                countEl.innerText = data.online;
            }
        });
    </script>
</body>
</html>